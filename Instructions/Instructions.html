{{ extends "global/Slider.html" }}

{{ block Slides }}
<!-- Slide 1a -->
<div class="slide"> 
    <div class="text-container">
        <h2>Introduction</h2>
        <ul>
            <li>You are participating in a study conducted by the University of Amsterdam.</li>
            <li>Your decisions and responses will be recorded <b>anonymously</b>.</li>
            <li>Your data will <b>only</b> be used for <b>academic research</b>.</li>
            <li>You can stop your participation at any time; your data will be deleted.</li>
            <li>Your choices may lead to <b>bonus payments</b> and <b>tree donations</b>.</li>
            <li><b>One participant</b> will be randomly selected for bonus payout.</li>
            <li>The experiment lasts approximately <b>20-25 minutes</b>.</li>
        </ul>
        <i>Press → to continue reading</i>
    </div>
    <div class="img-container"> 
        <img src="{{ static 'global/figures/example1.png' }}" class="img-instructions" alt="example of decision screen" id="img-example1"> 
    </div>
</div>

<!-- Slide 2a -->
<div class="slide">
    <<div class="text-container">
        <h2> The experiment: </h2>
        <ul>
            <li> In this experiment, you will make purhcasing decisions. </li>
            <li> The products that you will observe are <b>not real.</b></li>
            <li> There is no physical product, but your <u>decisions</u> will have <b>real consequences.</b></li>
            <li> Depending on your <u>decisions</u>, you can obtain an additional <b>bonus payment of up to 5 euros</b> and help the environment by <b>planting trees in a location of your choosing.</b></li>
            <li> The trees will be planted by:
                <img src="{{ static 'global/figures/Instructions/OTP.png' }}" alt="One Tree Planted logo" style="height:1.6em; vertical-align: middle;">
            </li>
            <li> There are many locations where the trees could be planted. </li>
            <li> Would you like to choose where to plant the trees? 
                <br>
                <label for="tree_country">Select a country:</label>
                <input type="text" id="tree_country" name="tree_country" list="countryList" class="text-input" placeholder="e.g., Kenya">
                <datalist id="countryList">
                    <option value="Brazil"></option>
                    <option value="Canada"></option>
                    <option value="Colombia"></option>
                    <option value="Costa Rica"></option>
                    <option value="Dominican Republic"></option>
                    <option value="Ecuador"></option>
                    <option value="Guatemala"></option>
                    <option value="Haiti"></option>
                    <option value="Honduras"></option>
                    <option value="India"></option>
                    <option value="Indonesia"></option>
                    <option value="Kenya"></option>
                    <option value="Mexico"></option>
                    <option value="Peru"></option>
                    <option value="Rwanda"></option>
                    <option value="Tanzania"></option>
                    <option value="Uganda"></option>
                    <option value="United States"></option>
                    <option value="Vietnam"></option>
                </datalist>
            </li>
        </ul>
        <i>Press → to continue reading </i>
    </div>
</div>


<!-- Slide 2b Combined and Updated -->
<div class="slide">
    <div class="text-container">
        <h2>Your Decisions</h2>
        <ul>
            <li>You will make multiple purchasing decisions (<b>36 rounds</b>).</li>
            <li>In each round, you will choose between <b>two products</b> that differ in:</li>
            <ul>
                <li><b>Price</b> — the cost in £. Lower price = <b>higher bonus payments</b>.</li>
                <li><b>Quality</b> — 1-2 star (⭐) rating. More stars = better quality. 
                    <br><i>Higher quality → higher bonus payments.</i>
                </li>
                <li><b>Eco-Label</b> — EU energy rating (e.g., {{ labelName }}). A higher letter (e.g., {{ labelMax }}) indicates greater sustainability. 
                    <br><i>Higher sustainability → more trees planted.</i>
                </li>
                <li><b>Sustainability</b> (shown using EU energy labels: <b>{{ labelName }}</b>)<br>
                    <span class="greenbold"> {{ labelMax }}</span><br>
                    <span class="redbold"> {{ labelMin }}</span>
                </li>
            </ul>
            <li>At the start of each round, all values are hidden.</li>
            <li>To reveal them:
                <ul>
                    <li><b>Hover over a row</b> (e.g., “Price” or “Sustainability”).</li>
                    <li>The values for both products will appear one by one.</li>
                </ul>
            </li>
            <li>The label format will change halfway through, but your task stays the same.</li>
            <li> After each decision, you will rate how <b>confident</b> you are in your choice. </li>
        </ul>
    </div>
</div>


<!-- Slide 2c -->
<div class="slide"> 
    <div class="text-container">
        <h2>Bonus & Tree Donation</h2>
        <ul>
            <li><b>1 in every 50 participants</b> will be randomly selected for payment.</li>
            <li>For the selected person, <b>one decision round</b> out of their 72 will be chosen at random.</li>
            <li>The bonus and tree donation will be based on the chosen round:
                <ul>
                    <li><b>Bonus = Quality rating - Price</b></li>
                    <li><b>Sustainability rating</b> determines the number of <b>trees planted</b></li>
                </ul>
            </li>
            <li>Ratings range from lower to higher (e.g., from B to A), reflecting how good a product is on each attribute.</li>
            <li><b>Quality and Sustainability ratings reflect the underlying value.</b><br>
                <i>Higher rating → Higher value.</i>
            </li>
            <li>Tree donations are symbolic and made via a certified organization.</li>
            <li><i>You won't know if you're selected — so treat each decision as important.</i></li>
        </ul>
    </div>
</div>

  <!-- Slide 6: Purchasing platform -->
  <div class="slide horizontal">
    <div class="text-container">
        <h2>Revealing attributes:</h2>
        <p>The product characteristics (Price, Quality, Sustainability) for each product will be behind <i>'boxes'</i>.</p>
        <p>To reveal the information, all you need to do is to <b>move your mouse on top of the <i>'box'</i></b> and the information will be revealed. </p>
        <p>Here is an example:</p>
    </div>
    <div class="img-container"> <img src="{{ static 'global/figures/Instructions/Hover.gif' }}" alt="Demo of hover interaction" class="img-instructions"></div>
</div> 



<!-- Slide 3: Control Questions -->
<div class="slide"> 
    <div class="text-container questions-container">
        <ul>
            <!-- Question 1 -->
            <li>
                <div class="inst-question">
                    <label for="Q1">What does the star stand for?</label>
                </div>
                <div class="answer-field">
                    <select name="Q1" id="Q1" class="dropdown ControlQuestions">
                        <option value="nothing">--Select--</option>
                        <option value="a">Quality</option>
                        <option value="b">Sustainability</option>
                        <option value="c">Price</option>
                        <option value="d">Brand</option>
                    </select>
                </div>
            </li>
            <div class="hint" id="hint1">Incorrect: Go back to the previous slide</div>


            <!--Question 2-->
            <li>
                <div class="inst-question">
                    <label for="Q2"> How many total trials will you complete? </label>
                </div>
                <div class="answer-field">
                    <select name="Q2" id="Q2" class="dropdown ControlQuestions">
                        <option value="nothing">--Select--</option>
                        <option value="a">60</option>
                        <option value="b">72</option>
                        <option value="c">100</option>
                    </select>
                </div>
            </li>
            <div class="hint" id="hint2">Incorrect: See the first slide again</div>

            <!-- Question 3 -->
            <li>
                <div class="inst-question">
                    <label for="Q3"> Do your decisions affect the bonus payment? </label>
                </div>
                <div class="answer-field">
                    <select name="Q3" id="Q3" class="dropdown ControlQuestions">
                        <option value="nothing">--Select--</option>
                        <option value="a">True</option>
                        <option value="b">False</option>
                    </select>
                </div>
            </li>
            <div class="hint" id="hint3">Incorrect: See slide on payment</div>

            <!-- Question 4 -->
            <li>
                <div class="inst-question">
                    <label for="Q4"> How do you reveal the product information? </label>
                </div>
                <div class="answer-field">
                    <select name="Q4" id="Q4" class="dropdown ControlQuestions">
                        <option value="nothing">--Select--</option>
                        <option value="a">Click</option>
                        <option value="b">Hover</option>
                        <option value="c">Tap</option>
                        <option value="d">It's already visible</option>
                    </select>
                </div>
            </li>
            <div class="hint" id="hint4">Incorrect: Go back to the Your Decisions slide</div>
        </ul>
        <button type="button" id="submitAnswer" class="button" onclick="ValidateSaveSubmit()">Submit</button>
    </div>
</div>
{{ endblock }}

{{ block app_styles }}
<link href="{% static 'global/css/global.css' %}" rel="stylesheet">

<style>
    #img-example {
        width: 50vw;
        height: auto;
    }
    #img-example2 {
        width: 75vw;
        height: auto;
    }
    .text-container {
        font-size: larger;
    }
    .greenbold {
        color: green;
        font-weight: bold;
    }
    .redbold {
        color: darkred;
        font-weight: bold;
    }
</style>
{{ endblock }}

{{ block app_scripts }}
<script>
  const lSolutions = js_vars.lSolutions;

  function ValidateSaveSubmit() {
    validateAnswers();
  }

  window.addEventListener("DOMContentLoaded", () => {
    let lGreen = document.getElementsByClassName("greenbold");
    let lRed = document.getElementsByClassName("redbold");

    for (let i = 0; i < lGreen.length; i++) {
        let span = document.createElement('span');
        span.innerHTML = "Most sustainable";
        span.classList.add("tooltiptext");
        lGreen[i].appendChild(span);
    }

    for (let i = 0; i < lRed.length; i++) {
        let span = document.createElement('span');
        span.innerHTML = "Least sustainable";
        span.classList.add("tooltiptext");
        lRed[i].appendChild(span);
    }
  });
</script>
{{ endblock }}


